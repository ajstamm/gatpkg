<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Write GAT Log — writeGATlog • NYS EPHT GAT</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Write GAT Log — writeGATlog"><meta property="og:description" content="This function writes a log of the aggregation process. It reports the
input and output datasets, variables and settings used, distributions of
aggregation variables, map projection, program start and end times, and
any warnings that were generated."><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">NYS EPHT GAT</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">2.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/gat_changelog.html">GAT Change Log</a>
    </li>
    <li>
      <a href="../articles/gat_citation.html">GAT Citation Information</a>
    </li>
    <li>
      <a href="../articles/gat_prepare_shapefile.html">GAT Shapefile Preparation</a>
    </li>
    <li>
      <a href="../articles/gat_results_eval.html">GAT Results Evaluation</a>
    </li>
    <li>
      <a href="../articles/gat_setup.html">GAT Setup Instructions</a>
    </li>
    <li>
      <a href="../articles/gat_tech_notes.html">GAT Technical Notes</a>
    </li>
    <li>
      <a href="../articles/gat_troubleshooting.html">GAT Troubleshooting</a>
    </li>
    <li>
      <a href="../articles/gat_tutorial.html">Tutorial 1: GAT walkthrough</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ajstamm/gatpkg/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Write GAT Log</h1>
    <small class="dont-index">Source: <a href="https://github.com/ajstamm/gatpkg/blob/master/R/writeGATlog.R" class="external-link"><code>R/writeGATlog.R</code></a></small>
    <div class="hidden name"><code>writeGATlog.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function writes a log of the aggregation process. It reports the
input and output datasets, variables and settings used, distributions of
aggregation variables, map projection, program start and end times, and
any warnings that were generated.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">writeGATlog</span><span class="op">(</span></span>
<span>  area <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  gatvars <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  aggvars <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  filevars <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  mysettings <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  mergevars <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ratevars <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  exclist <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  settingsfile <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>area</dt>
<dd><p>Spatial layer.</p></dd>


<dt>gatvars</dt>
<dd><p>List of objects created by GAT. See the example for
the elements it contains.</p></dd>


<dt>aggvars</dt>
<dd><p>List of objects created by the aggregation process.
See mergeGATpolygons() for the elements created.</p></dd>


<dt>filevars</dt>
<dd><p>List of file names and paths. Of relevance to this
function are the filename, filein, and the combined save
path and save name, userout.</p></dd>


<dt>mysettings</dt>
<dd><p>List of system settings, including version, pkgdate,
starttime, and the booleans savekml and exists.</p></dd>


<dt>mergevars</dt>
<dd><p>List of settings for the aggregation. See the example
for the elements it contains.</p></dd>


<dt>ratevars</dt>
<dd><p>List of settings for calculating rate. See the example
for the elements it contains.</p></dd>


<dt>exclist</dt>
<dd><p>List of exclusion criteria to use when merging.</p></dd>


<dt>settingsfile</dt>
<dd><p>R data file (*.Rdata) produced as part of GAT's output.
This file saves all settings for GAT. Other options can
be set to NULL only if this option is defined.</p>
<p>Notes on using the settingsfile option:</p><ol><li><p>You will get an error if you moved the input shapefile before running
the function with this option, since the function needs to access the
input shapefile to recreate the log.</p></li>
<li><p>Reading in an *.Rdata file from a previous version of GAT may result in
incorrect elapsed time and GAT version numbers being written to the log,
or in errors that cause the file to be incomplete, due to changes in
settings saved to the *.Rdata file as GAT has evolved.</p></li>
</ol></dd>

</dl></div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># if you run this example, it saves "my_hftown.log" to your working</span></span></span>
<span class="r-in"><span><span class="co"># directory</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="va">gatvars</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  myidvar <span class="op">=</span> <span class="st">"ID"</span>,             <span class="co"># character variable of unique values</span></span></span>
<span class="r-in"><span>  aggregator1 <span class="op">=</span> <span class="st">"TOTAL_POP"</span>,  <span class="co"># numeric variable</span></span></span>
<span class="r-in"><span>  aggregator2 <span class="op">=</span> <span class="st">"TOTAL_POP"</span>,  <span class="co"># numeric variable</span></span></span>
<span class="r-in"><span>  minvalue1 <span class="op">=</span> <span class="fl">5000</span>, minvalue2 <span class="op">=</span> <span class="fl">5000</span>,</span></span>
<span class="r-in"><span>  maxvalue1 <span class="op">=</span> <span class="fl">16423</span>, maxvalue2 <span class="op">=</span> <span class="fl">15000</span>,</span></span>
<span class="r-in"><span>  boundary <span class="op">=</span> <span class="st">"COUNTY"</span>,        <span class="co"># character variable of non-unique values</span></span></span>
<span class="r-in"><span>  mergeopt1 <span class="op">=</span> <span class="st">"closest"</span>,      <span class="co"># method used to merge polygons</span></span></span>
<span class="r-in"><span>  rigidbound <span class="op">=</span> <span class="cn">FALSE</span>,         <span class="co"># boolean: were boundaries enforced?,</span></span></span>
<span class="r-in"><span>  savekml <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>  popwt <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>  exclmaxval <span class="op">=</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>  ismax1 <span class="op">=</span> <span class="cn">TRUE</span>,       <span class="co"># user selected "NONE" as maximum value</span></span></span>
<span class="r-in"><span>  ismin2 <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>  ismax2 <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">mergevars</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  mergeopt1 <span class="op">=</span> <span class="st">"similar"</span>,    <span class="co"># can be similar, closest, or least</span></span></span>
<span class="r-in"><span>  similar1 <span class="op">=</span> <span class="st">"AREAWATR"</span>,    <span class="co"># numeric variable</span></span></span>
<span class="r-in"><span>  similar2 <span class="op">=</span> <span class="st">"AREALAND"</span>,    <span class="co"># numeric variable without any zeros</span></span></span>
<span class="r-in"><span>  centroid <span class="op">=</span> <span class="st">"geographic"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ratevars</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  ratename <span class="op">=</span> <span class="st">"pop_density"</span>,</span></span>
<span class="r-in"><span>  numerator <span class="op">=</span> <span class="st">"TOTAL_POP"</span>,</span></span>
<span class="r-in"><span>  denominator <span class="op">=</span> <span class="st">"AREALAND"</span>,</span></span>
<span class="r-in"><span>  multiplier <span class="op">=</span> <span class="fl">5000</span>,</span></span>
<span class="r-in"><span>  colorname <span class="op">=</span> <span class="st">"Blue-Green"</span>,</span></span>
<span class="r-in"><span>  colorscheme <span class="op">=</span> <span class="st">"BuGn"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">aggvars</span> <span class="op">&lt;-</span> <span class="fu"><a href="defineGATmerge.html">defineGATmerge</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  area <span class="op">=</span> <span class="va">hftown</span>,</span></span>
<span class="r-in"><span>  gatvars <span class="op">=</span> <span class="va">gatvars</span>,</span></span>
<span class="r-in"><span>  mergevars <span class="op">=</span> <span class="va">mergevars</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">filevars</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  filein <span class="op">=</span> <span class="st">"hftown"</span>,                        <span class="co"># original filename</span></span></span>
<span class="r-in"><span>  userin <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"/hftown"</span><span class="op">)</span>,      <span class="co"># original file and path name</span></span></span>
<span class="r-in"><span>  userout <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"/my_hftown"</span><span class="op">)</span>,  <span class="co"># save file path and name</span></span></span>
<span class="r-in"><span>  pathout <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span>,                        <span class="co"># save path name</span></span></span>
<span class="r-in"><span>  fileout <span class="op">=</span> <span class="st">"my_hftown"</span>                     <span class="co"># save file name</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">mysettings</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  starttime <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.time</a></span><span class="op">(</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  version <span class="op">=</span> <span class="st">"1.0"</span>,</span></span>
<span class="r-in"><span>  pkgdate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/format.html" class="external-link">format</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"%m-%d-%Y"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  adjacent <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  pwrepeat <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>  minfirst <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  exists <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">exclist</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    var1 <span class="op">=</span> <span class="st">"exclusion1"</span>,</span></span>
<span class="r-in"><span>    var2 <span class="op">=</span> <span class="st">"exclusion2"</span>,</span></span>
<span class="r-in"><span>    var3 <span class="op">=</span> <span class="st">"NONE"</span>,           <span class="co"># flag to denote no third variable</span></span></span>
<span class="r-in"><span>    math1 <span class="op">=</span> <span class="st">"greater than"</span>,</span></span>
<span class="r-in"><span>    math2 <span class="op">=</span> <span class="st">"less than"</span>,</span></span>
<span class="r-in"><span>    math3 <span class="op">=</span> <span class="st">"equals"</span>,</span></span>
<span class="r-in"><span>    val1 <span class="op">=</span> <span class="fl">5000</span>,</span></span>
<span class="r-in"><span>    val2 <span class="op">=</span> <span class="fl">50</span>,</span></span>
<span class="r-in"><span>    val3 <span class="op">=</span> <span class="fl">0</span>,</span></span>
<span class="r-in"><span>    flagsum <span class="op">=</span> <span class="fl">5</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">writeGATlog</span><span class="op">(</span></span></span>
<span class="r-in"><span>  area <span class="op">=</span> <span class="va">hftown</span>,</span></span>
<span class="r-in"><span>  gatvars <span class="op">=</span> <span class="va">gatvars</span>,</span></span>
<span class="r-in"><span>  filevars <span class="op">=</span> <span class="va">filevars</span>,</span></span>
<span class="r-in"><span>  aggvars <span class="op">=</span> <span class="va">aggvars</span>,</span></span>
<span class="r-in"><span>  mysettings <span class="op">=</span> <span class="va">mysettings</span>,</span></span>
<span class="r-in"><span>  mergevars <span class="op">=</span> <span class="va">mergevars</span>,</span></span>
<span class="r-in"><span>  ratevars <span class="op">=</span> <span class="va">ratevars</span>,</span></span>
<span class="r-in"><span>  exclist <span class="op">=</span> <span class="va">exclist</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Abigail Stamm, Gwen Babcock, Centers for Disease Control and Prevention.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

